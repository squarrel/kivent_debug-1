#:kivy 1.8.0

MainGame:

<MainGame>:
	
	gameworld: gameworld
	GameWorld:
		id: gameworld
		gamescreenmanager: gamescreenmanager
				
		Image:
			source: 'assets/background.png'
			size: 1000, 600
			pos: self.pos
		
		PositionSystem:
			system_id: 'position'
			gameworld: gameworld
								
		RotateSystem:
			system_id: 'rotate'
			gameworld: gameworld
		GameView:
			system_id: 'gameview'
			focus_entity: False
			updateable: False
			gameworld: gameworld
			pos: root.pos
			do_scroll: False
			size: root.size
		GameMap:
			system_id: 'map'
			map_size: root.size
			gameworld: gameworld
		Renderer:
			gameworld: gameworld
			system_id: 'renderer'
			shader_source: 'assets/glsl/positionshader.glsl'
			gameview: 'gameview'
		Renderer:
			gameworld: gameworld
			system_id: 'physics_renderer'
			do_rotate: True
			shader_source: 'assets/glsl/positionrotateshader.glsl'
			gameview: 'gameview'
		CymunkPhysics:
			gameworld: gameworld
			system_id: 'physics'
			gravity: 0, -50
		SteeringSystem:
			physics_system: 'physics'
			system_id: 'steering'
			gameworld: gameworld
	GameScreenManager:
		id: gamescreenmanager
		size: root.size
		pos: root.pos
		gameworld: gameworld
		

<GameScreenManager>:
	MainScreen:
		id: main_screen

<MainScreen@GameScreen>:
	name: 'main'
		

